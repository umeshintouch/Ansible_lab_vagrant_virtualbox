# Automatically Generated by Vagrant Config Generator, see https://github.com/jianan1104/vagrantfile-generator
Vagrant.configure('2') do |config|
  (1..2).each do |i|
  config.vm.define "webserver-#{i}" do |machine|
    machine.vm.box = 'centos/7'
    machine.vm.hostname = "webserver-#{i}"
    machine.vm.provider "virtualbox" do |vb|
      vb.name = "webserver_nginx-#{i}"
      vb.cpus = '2'
      vb.memory = '1024'
    end
  end
  end
end


HTTP_PROXY="http://proxy.mgmt.intern:80"
HTTPS_PROXY="http://proxy.mgmt.intern:80"




Vagrant.configure("2") do |config|
  if Vagrant.has_plugin?("vagrant-proxyconf")
    config.proxy.http     = "http://proxy.mgmt.intern:80"
    config.proxy.https    = "http://proxy.mgmt.intern:80"
    config.proxy.no_proxy = "localhost,127.0.0.1"
  end
end

Vagrant.configure('2') do |config|
  (1..1).each do |i|
  config.vm.define "amsible" do |machine|
    machine.vm.box = 'centos/7'
    machine.vm.hostname = "amsible"
    machine.vm.provider "virtualbox" do |vb|
      vb.name = "ansible-#{i}"
      vb.cpus = '2'
      vb.memory = '1024'
    end
  end
  end
end
=====================

# -*- mode: ruby -*-
# vi: set ft=ruby :
#
# Vagrantfile for creating a CentOS 7 VM
#
# Requirements:
# - Vagrant (https://www.vagrantup.com/downloads)
# - VirtualBox (https://www.virtualbox.org/wiki/Downloads)
#
# Usage:
# 1. Create a directory for your project and navigate into it:
#    mkdir my-centos7-vm
#    cd my-centos7-vm
#
# 2. Create a file named Vagrantfile in your project directory and paste this code into it.
#
# 3. Start the VM:
#    vagrant up
#
# 4. SSH into the VM:
#    vagrant ssh
#
# 5. Managing the VM:
#    To halt the VM: vagrant halt
#    To destroy the VM: vagrant destroy
#    To reload the VM (reboot with configuration changes): vagrant reload
#

Vagrant.configure("2") do |config|
  # Set the box to use CentOS 7
  config.vm.box = "centos/7"

  # Define the VM hostname
  config.vm.hostname = "centos7-vm"

  # Set up a private network with a static IP
  config.vm.network "private_network", ip: "192.168.33.10"

  # Customize the amount of memory and CPUs
  config.vm.provider "virtualbox" do |vb|
    vb.memory = "1024"  # Set VM memory to 1024MB
    vb.cpus = 2         # Set the number of CPUs to 2
  end

  # Provisioning with a shell script (you can replace this with your own script or commands)
  config.vm.provision "shell", inline: <<-SHELL
    yum -y update
    yum -y install epel-release
    yum -y install vim git
  SHELL

  # Enable the vagrant-proxyconf plugin if you are behind a proxy
  if Vagrant.has_plugin?("vagrant-proxyconf")
    config.proxy.http     = ENV['HTTP_PROXY'] if ENV['HTTP_PROXY']
    config.proxy.https    = ENV['HTTPS_PROXY'] if ENV['HTTPS_PROXY']
    config.proxy.no_proxy = "localhost,127.0.0.1"
  end
end
